<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>About Us - CarbonTrack</title>
  <script src="js/jquery.min.js"></script>
  <link rel="icon" href="/img/team.jpg" type="image/JPG">
  <!-- 引入Bootstrap和jQuery的CDN链接 -->
  <link rel="stylesheet" href="./css/bootstrap.min.css">
  <script src="js/bootstrap.min.js"></script>
  <script src="js/nav.js"></script>
  <!-- 引入Bootstrap.css -->
  <!-- 引入扁平化图标库 -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css">
  <!-- 自定义CSS样式 -->
  <link rel="stylesheet" href="/css/index.css">
  <style>/* 设置卡片的最小高度 */
  .jumbotron button,
  .card button {
    background-color: #ffbe16; /* 按钮背景颜色 */
    border: none; /* 移除边框 */
    color: black; /* 文字颜色 */
    font-weight: bold; /* 字体加粗 */
    padding: 10px 20px; /* 内边距 */
    border-radius: 20px; /* 圆角边框 */
    transition: background-color 0.3s ease, box-shadow 0.3s ease; /* 过渡动画 */
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2); /* 阴影效果 */
  }

  .btn-8uccess {
    color: rgb(255, 214, 51);
    background-color: rgb(255, 214, 51);
    border-color: rgb(255, 214, 51);
  }

  /* 鼠标悬停在按钮上时的样式 */
  .jumbotron button:hover,
  .card button:hover {
    background-color: #ffd633; /* 按钮背景颜色变化 */
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3); /* 阴影效果加深 */
  }

  /* 响应式布局：在小屏幕设备上卡片占满整个列宽 */
  @media (max-width: 768px) {
    .col-md-4 {
      flex: 0 0 100%;
      max-width: 100%;
    }
  }

  .section-achievements {
    margin-top: 1.5rem; /* 调整这个值以匹配第一部分与上面部分的间隔 */
  }
  </style>
</head>
<body>
<!-- 导航栏 -->
<nav class="navbar navbar-expand-sm navbar-dark">

  <div class="container">
    <a class="navbar-brand" href="index.html">校园碳账户 |</a>
    <a class="navbar-brand" href="index.html">
      <img src="/img/team.png" alt="CarbonTrack校园碳账户" style="height: 100px;"></a>
    <a class="navbar-brand" href="index.html">CarbonTrack</a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse" id="navbarNav">
      <ul class="navbar-nav ml-auto">
        <li class="nav-item">
          <span id="userStatus" class="navbar-text mr-3"></span>
        </li>
        <!--
                            <li class="nav-item">
                                <a class="nav-link" href="#">Contact Us</a>
                            </li>-->
        <li class="nav-item">
          <a class="nav-link" href="#" data-toggle="modal" data-target="#registerModal">Register</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="#" data-toggle="modal" data-target="#loginModal">Log-in</a>
        </li>
        <li class="nav-item">
          <button id="logoutButton" class=" logoutControl btn btn-sm btn-danger" onclick="logout()"
                  style="display:none;">Logout
          </button>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="index.html">Home</a>
        </li>
        <li class="nav-item">
          <a class="logoutControl nav-link " href="#" data-toggle="modal" data-target="#messagesModal"><i
              class="logoutControl fas fa-envelope" style="color: rgba(255, 255, 255, .5);font-size: 24px;"></i></a>
          <div class="badge-container">
            <span id="unreadMessagesCount" class="badge badge-danger" style="display: none;">0</span>
          </div>
        </li>
        <li class="nav-item">
          <a id="logoutButton logoutControl" class=" logoutControl nav-link" href="calculate.html">Accounting Portal</a>
        </li>

        <li class="nav-item">
          <a id="logoutControl" class=" logoutControl nav-link" href="CStore.html">Credits Mall</a>
        </li>
        <li class="nav-item">
          <a id=" logoutControl" class="logoutControl nav-link" href="center.html">User Center</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="about.html">About Us</a>
        </li>

      </ul>
    </div>
  </div>
</nav>
<div class="modal fade" id="loginModal" tabindex="-1" role="dialog" aria-labelledby="loginModalLabel"
     aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="loginModalLabel">User Login</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <form>
          <div class="form-group">
            <label for="username">Account/Username</label>
            <input type="text" class="form-control" id="username" placeholder="Please enter your Username or Email Address">
          </div>
          <div class="form-group">
            <label for="password">Password</label>
            <input type="password" class="form-control" id="password" placeholder="Please enter your Password">
          </div>
          <button type="submit" class="btn btn-login btn-block">Log-in</button>
        </form>
      </div>
      <div class="modal-footer">
        <div class="alert alert-warning" role="alert" id="refreshAlert" style="display: none; cursor: pointer;">
          If failed, please try reload the page or press<a href="#" onclick="location.reload();">here</a>以重新通过Cloudflare防火墙。
        </div>
        <a class="nav-link mr-right" href="iforgot.html">Forgot password?</a>
        <a class="nav-link" href="#" data-toggle="modal" data-target="#registerModal">Register an account</a>
      </div>
    </div>
  </div>
</div>
<div class="modal fade" id="registerModal" tabindex="-1" role="dialog" aria-labelledby="loginModalLabel"
     aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="registerModalLabel">Register new account</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <form>
          <div class="form-group">
            <label for="username">Username</label>
            <input type="text" class="form-control required-input" id="regusername" placeholder="Please set your Username">
          </div>
          <div class="form-group">
            <label for="password">Password</label>
            <input type="password" class="form-control required-input" id="regpassword" placeholder="Please set your Password">
          </div>
          <div class="form-group">
            <label for="email">Email Address:</label>
            <input type="email" class="form-control required-input" id="email" name="email" required>
            <!-- 添加发送验证码按钮 -->
            <button type="button" class="btn btn-secondary" id="sendVerificationCode">Send verification code</button>
            <!-- 在注册模态框的表单中添加一个字段 -->
            <div class="form-group">
              <label for="verificationCode">Verification Code</label>
              <input type="text" class="form-control" id="verificationCode" placeholder="Please enter the verification code you received" required>
              <small id="emailHelp" class="form-text text-muted"
                     style="display: none;">The code has been sent to your Email.</small>
            </div>

          </div>
          <button type="submit" class="btn btn-login btn-block">Register</button>
          <div id="registerError" style="display:none;" class="alert alert-danger"></div>
        </form>
        <div class="modal-footer">
          <div class="alert alert-warning" role="alert" id="refreshAlert" style="display: none; cursor: pointer;">
            If failed, please try reload the page or press<a href="#" onclick="location.reload();">here</a>以重新通过Cloudflare防火墙。
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<!-- 站内信模态框 -->
<div class="modal fade" id="messagesModal" tabindex="-1" role="dialog" aria-labelledby="messagesModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="messagesModalLabel">Message</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <div class="row">
          <div class="col-4" id="conversationList">
            <!-- 对话列表将在这里动态加载 -->
          </div>
          <div class="col-8">
            <div id="messageList" style="height: 400px; overflow-y: auto;">
              <!-- 消息列表将在这里动态加载 -->
            </div>
            <div class="input-group mt-3">
              <input type="text" class="form-control" id="messageInput" placeholder="Enter Message...">
              <div class="input-group-append">
                <button class="btn btn-primary" type="button" id="sendMessage">Send</button>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>
<!-- 关于我们标题 -->
<div class="jumbotron">
  <div class="container">
    <div class="row">
      <div class="col">
        <h1 class="d-inline-block">About Us</h1>
      </div>
      <div class="col">
         <!--旧Join Us button<button type="button" class="btn btn-8uccess float-right" data-toggle="modal" data-target="#joinUsModal">
          Join Us
        </button>-->
        
 <button id="emailButton" class="btn btn-success float-right">Send Us an Email</button>

<script>
    document.getElementById('emailButton').addEventListener('click', function () {
        window.location.href = 'mailto:carbontrack666@gmail.com';
    });
</script>



      </div>
    </div>
    <p>
      We are a group of young people keen on environmental protection and technology. Our mission is to promote and practice a low-carbon lifestyle via this Campus Carbon Accounting System, raising awareness of the impact of carbon emissions on the planet and encouraging action to reduce carbon footprints, thereby protecting our shared home.</p>
    <!--<button>Join Us</button>-->
  </div>
</div>

  
<!-- 内容区域 -->
<div class="container">
  <!-- 内容标题 -->
  <h2>Team Members</h2>
  <!-- 内容段落 -->
  <p>Our team consists of the following passionate members: this block is currently under construction:)</p>

  <div class="mt-3 mb-3">
    <!-- 内容标题 -->
    <h2>Our Mission</h2>
    <!-- 内容段落 -->
    <p>Our mission is to use the carbon account system to help ourselves and others achieve the following goals:</p>
    <!-- 内容列表 -->
    <ul>
      <li>Target students to raise their awareness of climate change and carbon emissions.</li>
      <li>Help students to record their carbon footprints in daily lives, fostering greater awareness and participation in energy-saving and emission-reducing activities.</li>
      <li>Through our efforts, we hope to raise awareness of the importance of energy-saving and emission reduction, further promoting world-wide attention and recognition of environmental protection.
      </li>
      <li>Participate in and support activities and NPOs that contribute to environmental protection and social welfare, making a positive impact on our shared home.</li>
    </ul>
  </div>
  <!-- 内容标题 -->
  <div class="section-achievements">
    <h2>Our Achievements</h2>
    <!-- 内容段落 -->
    <p>Through the use of the CarbonTrack carbon accounting system, we have achieved the following milestones:</p>
    <!-- 内容表格 -->
    <table class="table table-striped table-bordered">
      <thead>
      <tr>
        <th>Category</th>
        <th>Indicator</th>
        <th>Description</th>
      </tr>
      </thead>
      <tbody>
      <tr>
        <td>Carbon Emission Reduction</td>
        <td>Reduced <span id="totalPoints">加载中Loading</span><br> kg of CO₂ emission
        <td>We have recorded and managed our carbon footprints via carbon accounts, earning carbon credits and enjoying the benefits of a low-carbon lifestyle.</td>
      </tr>
      <tr>
        <td>Low-Carbon Community Size</td>
        <td>Recently increased by <span id="userCount">最近增加了加载中人</span> users</td>
        <td>By sharing our low-carbon lifestyles and stories, we have expanded our low-carbon community, enhanced awareness, and attracted more members to join our team.
        </td>
      </tr>
      <tr>
        <td>Carbon Account Usage Times</td>
        <td>Processed <span id="totalTimes">加载中Loading</span> records</td>
        <td>The increasing number of carbon reduction records reflects the positive impact we are bringing to the community, as well as the stability of our website.</td>
      </tr>
      </tbody>
    </table>
  </div>
</div>
<!-- 页脚 -->
<div id="footer-placeholder"></div>


<script>
  // 页面加载时检查登录状态
  $(document).ready(function () {
    updateButtonForRemainingTime()
    updateCommunityCount()
    updateTotalPoints()
  })


  // AJAX 请求获取社区人数
  function updateCommunityCount() {
    $.ajax({
      url: 'gtc.php', // 确保这是正确的 PHP 脚本 URL
      type: 'GET',
      dataType: 'json', // 确保预期的响应类型为 JSON
      success: function (response) {
        if (response && response.success) {
          $('#userCount').text(response.count)
        } else {
          $('#userCount').text('加载失败')
        }
      },
      error: function (xhr, status, error) {
        $('#userCount').text('加载失败')
        console.error('更新社区人数失败: ', status, error)
      },
    })
  }

  // AJAX 请求获取总积分
  function updateTotalPoints() {
    $.ajax({
      url: 'gtr.php', // 确保这是正确的 PHP 脚本 URL
      type: 'GET',
      dataType: 'json', // 确保预期的响应类型为 JSON
      success: function (response) {
        if (response && response.success) {
          $('#totalPoints').text(response.points / 10)
          $('#totalTimes').text(response.times)
        }
      },
      error: function (xhr, status, error) {
        $('#totalPoints').text('加载失败')
        console.error('更新总积分失败: ', status, error)
      },
    })
  }
</script>
</body>
</html>
